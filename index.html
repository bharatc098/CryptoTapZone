<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Tractor Ji Strategy</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }
    #tvchart {
      width: 100%;
      height: 100%;
    }
    #signalBox {
      position: absolute;
      top: 20px;
      left: 20px;
      background: rgba(255,255,255,0.9);
      padding: 10px 15px;
      border: 1px solid #888;
      border-radius: 10px;
      font-family: sans-serif;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      cursor: move;
      z-index: 100;
    }
    #signalBox strong {
      font-size: 16px;
      display: block;
      margin-bottom: 5px;
    }
  </style>
</head>
<body>

<!-- ‚úÖ Chart container -->
<div id="tvchart"></div>

<!-- ‚úÖ Signal Box -->
<div id="signalBox">
  <strong>Tractor Ji Signal</strong>
  Entry: <span id="entry">-</span><br>
  Stoploss: <span id="sl">-</span><br>
  Target: <span id="target">-</span>
</div>

<!-- ‚úÖ Chart Script -->
<script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
<script>
  new TradingView.widget({
    container_id: "tvchart",
    autosize: true,
    symbol: "OANDA:XAUUSD", // ‚úÖ Default is Gold
    interval: "1",
    timezone: "Etc/UTC",
    theme: "light",
    style: "1",
    locale: "en",
    enable_publishing: false,
    hide_top_toolbar: false,
    hide_legend: false,
    save_image: false,
    studies: ["MASimple@tv-basicstudies", "ADX@tv-basicstudies"], // ‚úÖ SMA + ADX
    overrides: {},
    studies_overrides: {
      "masimple.length": 22,
      "adx.length": 8
    }
  });

  // ‚úÖ Make the signal box draggable
  const box = document.getElementById("signalBox");
  let offsetX, offsetY, isDragging = false;

  box.addEventListener("mousedown", function(e) {
    isDragging = true;
    offsetX = e.clientX - box.offsetLeft;
    offsetY = e.clientY - box.offsetTop;
  });

  document.addEventListener("mousemove", function(e) {
    if (isDragging) {
      box.style.left = (e.clientX - offsetX) + "px";
      box.style.top = (e.clientY - offsetY) + "px";
    }
  });

  document.addEventListener("mouseup", function() {
    isDragging = false;
  });

  // üìå ‡§§‡•Å‡§Æ‡§ö‡§Ç ‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ö‡§ü‡•á‡§ú‡•Ä‡§ö‡§Ç ‡§≤‡•â‡§ú‡§ø‡§ï ‡§Ü‡§§‡§æ ‡§á‡§•‡•á manually add ‡§ï‡§∞‡§æ‡§µ‡§Ç ‡§≤‡§æ‡§ó‡•á‡§≤ (‡§ú‡§∞ Lightweight Chart ‡§µ‡§æ‡§™‡§∞‡§§ ‡§Ö‡§∏‡§§‡•ã ‡§§‡§∞ ‡§Æ‡•Ä logic ‡§ú‡•ã‡§°‡•Ç‡§® ‡§¶‡§ø‡§≤‡§æ ‡§Ö‡§∏‡§§‡§æ)
  // TradingView ‡§ö‡•ç‡§Ø‡§æ TV widget ‡§Æ‡§ß‡•ç‡§Ø‡•á script logic add ‡§ï‡§∞‡§§‡§æ ‡§Ø‡•á‡§§ ‡§®‡§æ‡§π‡•Ä (‡§´‡§ï‡•ç‡§§ indicator ‡§¶‡§ø‡§∏‡§§‡•ã)
  // ‡§™‡§£ visual ‡§Ü‡§£‡§ø default chart ‡§µ‡§æ‡§™‡§∞‡§æ‡§Ø‡§ö‡§æ ‡§Ö‡§∏‡•á‡§≤, ‡§§‡§∞ ‡§π‡•Ä setup ‡§¨‡•á‡§∏‡•ç‡§ü ‡§Ü‡§π‡•á.

  // Entry/SL/Target manually box ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§ü‡§æ‡§ï‡§æ‡§µ‡§Ç ‡§≤‡§æ‡§ó‡•á‡§≤ unless ‡§Ü‡§™‡§£ Custom Chart ‡§µ‡§æ‡§™‡§∞‡§≤‡§æ.

  // Box ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§°‡§Æ‡•Ä values ‡§¶‡§æ‡§ñ‡§µ‡§≤‡•á ‡§Ü‡§π‡•á‡§§. Logic ‡§ú‡•ã‡§°‡§æ‡§Ø‡§ö‡§Ç ‡§Ö‡§∏‡§≤‡•ç‡§Ø‡§æ‡§∏ ‡§Ü‡§™‡§≤‡•ç‡§Ø‡§æ‡§≤‡§æ chart API ‡§ï‡§ø‡§Ç‡§µ‡§æ lightweight chart ‡§π‡§µ‡•Ä.

  document.getElementById("entry").innerText = "2345.00";
  document.getElementById("sl").innerText = "2325.00";
  document.getElementById("target").innerText = "2385.00";
</script>

</body>
</html>
